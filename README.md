# luci-app-pushbot

一款功能强大的 OpenWrt/LEDE 路由器消息推送插件，支持多种推送平台，实时监控路由器和设备状态。


# 原插件简介：

# 简介
- 用于 OpenWRT/LEDE 路由器上进行 Server酱 微信/Telegram 推送的插件
- 基于 serverchan 提供的接口发送信息，Server酱说明：http://sc.ftqq.com/1.version
- 测试设备N1，不同系统不同设备，请自行修改部分代码
- 依赖 iputils-arping + curl 命令，安装前请 `opkg update`，小内存路由谨慎安装
- 使用主动探测设备连接的方式检测设备在线状态，以避免WiFi休眠机制，主动探测较为耗时，**如遇设备休眠频繁，请自行调整超时设置**
- 流量统计功能依赖 wrtbwmon ，自行选装或编译，该插件与 Routing/NAT 、Flow Offloading 冲突，开启无法获取流量，自行选择，L大版本直接编译 luci-app-wrtbwmon

#### 主要功能
- 路由 ip/ipv6 变动推送（支持显示旧地址和新地址）
- 设备别名
- 设备上线推送（显示设备厂商信息）
- 设备离线推送及流量使用情况
- CPU 负载、温度监视
- 定时推送设备运行状态
- MAC 白名单、黑名单、按接口检测设备
- 免打扰
- 无人值守任务
- 设备厂商信息识别（内置9000+常见厂商，支持在线更新完整数据库）
- 完美支持二级路由环境

#### 更新说明 

- **单臂路由优化**：优化IP获取逻辑，解决单臂路由环境下"获取IPv4地址失败"的问题
- **设备通知修复**：修复设备上下线通知逻辑错误
- **错误处理增强**：修复Broken pipe错误
- **设备别名管理** - 自定义设备显示名称，优先级最高
- **Docker容器识别** - 自动识别并显示 Docker 容器名称
- **设备厂商识别** - 内置主流厂商 OUI 数据库（小米、苹果、华为、VIVO、OPPO等）
- **流量统计** - 实时监控设备流量使用（需要 wrtbwmon）
- **网络变动推送** - 支持同时显示 LAN 和 WAN IP，支持二级路由和单臂路由


#### 支持的通知平台

- **钉钉机器人** - DingTalk Webhook
- **企业微信** - 企业微信群机器人
- **企业微信应用** - 企业微信自建应用推送（支持图文消息）
- **飞书机器人** - Feishu/Lark Webhook
- **PushPlus** - 微信公众号推送
- **PushDeer** - 多端推送服务
- **Bark** - iOS 推送通知
- **自定义接口** - 支持任意 Webhook


GPL-2.0 License

